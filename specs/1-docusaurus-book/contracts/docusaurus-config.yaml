# Docusaurus Configuration Contract
# Defines the required structure and properties for docusaurus.config.js

contract:
  name: "Physical AI & Humanoid Robotics Book"
  version: "1.0.0"
  description: "Configuration contract for the Physical AI & Humanoid Robotics Docusaurus book"

required_fields:
  title:
    type: string
    description: "Site title displayed in browser tab and navbar"
    example: "Physical AI & Humanoid Robotics"

  tagline:
    type: string
    description: "Brief description of the site's purpose"
    example: "Bridging the gap between digital AI and physical robots"

  favicon:
    type: string
    description: "Path to favicon file"
    example: "/img/favicon.ico"

  url:
    type: string
    description: "Production URL of the site"
    example: "https://physical-ai-lab.org"
    format: "valid URL"

  baseUrl:
    type: string
    description: "Base URL for the site"
    example: "/book/"
    format: "must start with /"

  organizationName:
    type: string
    description: "GitHub organization or username"
    example: "physical-ai-lab"

  projectName:
    type: string
    description: "GitHub repository name"
    example: "physical-ai-humanoid-robotics-book"

  onBrokenLinks:
    type: string
    description: "How to handle broken links"
    allowed_values: ["ignore", "log", "throw", "warn"]
    default: "throw"

  presets:
    type: array
    description: "Docusaurus presets configuration"
    items:
      type: object
      required: ["classic"]
      properties:
        classic:
          type: object
          description: "Classic preset configuration"
          required: ["docs", "theme"]
          properties:
            docs:
              type: object
              description: "Documentation plugin configuration"
              required: ["sidebarPath"]
              properties:
                sidebarPath:
                  type: string
                  description: "Path to sidebar configuration file"
                  example: "require.resolve('./sidebars.js')"
                editUrl:
                  type: string
                  description: "URL for edit links"
                  example: "https://github.com/physical-ai-lab/physical-ai-humanoid-robotics-book/edit/main/"

  themeConfig:
    type: object
    description: "Theme configuration including navbar and footer"
    required: ["navbar", "footer"]
    properties:
      navbar:
        type: object
        description: "Navigation bar configuration"
        required: ["title", "items"]
        properties:
          title:
            type: string
            description: "Title displayed in navbar"
          logo:
            type: object
            description: "Logo configuration"
            properties:
              alt:
                type: string
                description: "Alt text for logo"
              src:
                type: string
                description: "Path to logo image"
          items:
            type: array
            description: "Navigation items in the navbar"
            items:
              type: object
              properties:
                type:
                  type: string
                  description: "Type of navigation item"
                  allowed_values: ["doc", "docsVersion", "docsVersionDropdown", "dropdown", "html", "localeDropdown", "search", "theme", "custom"]
                docId:
                  type: string
                  description: "Document ID for doc type items"
                position:
                  type: string
                  description: "Position of item in navbar"
                  allowed_values: ["left", "right"]
                label:
                  type: string
                  description: "Display label for the item"
                href:
                  type: string
                  description: "External link URL"

      footer:
        type: object
        description: "Footer configuration"
        required: ["style", "links", "copyright"]
        properties:
          style:
            type: string
            description: "Footer style"
            allowed_values: ["dark", "light"]
          links:
            type: array
            description: "Footer links configuration"
            items:
              type: object
              properties:
                title:
                  type: string
                  description: "Title for the link section"
                items:
                  type: array
                  description: "Individual link items"
                  items:
                    type: object
                    properties:
                      label:
                        type: string
                        description: "Link text"
                      to:
                        type: string
                        description: "Internal link path"
                      href:
                        type: string
                        description: "External link URL"
          copyright:
            type: string
            description: "Copyright text displayed in footer"

optional_fields:
  onBrokenMarkdownLinks:
    type: string
    description: "How to handle broken markdown links"
    allowed_values: ["ignore", "log", "throw", "warn"]
    default: "warn"

  i18n:
    type: object
    description: "Internationalization configuration"
    properties:
      defaultLocale:
        type: string
        description: "Default language locale"
        example: "en"
      locales:
        type: array
        description: "Supported locales"
        items:
          type: string
          example: "en"

validation_rules:
  - "All required fields must be present"
  - "URL fields must be valid URLs"
  - "Base URL must start with '/'"
  - "Navigation items must have valid docId references if type is 'doc'"
  - "Sidebar path must exist and be accessible"
  - "All external links should use HTTPS where possible"

compliance:
  - "Must follow Docusaurus v2 official documentation patterns"
  - "Must be compatible with GitHub Pages deployment"
  - "Must include proper edit URLs for contribution"
  - "Must follow accessibility best practices"